家計簿

データベース作成
mysql> CREATE DATABASE sukkiriSQL_kakeibo;
mysql> USE sukkiriSQL_kakeibo;


家計簿テーブル
mysql> CREATE TABLE 家計簿(日付 TEXT, 費目 TEXT, メモ TEXT , 入金額 INT, 出金額 INT);


家計簿テーブルの構造確認
mysql> DESCRIBE 家計簿;
+-----------+---------+------+-----+---------+-------+
| Field     | Type    | Null | Key | Default | Extra |
+-----------+---------+------+-----+---------+-------+
| 日付      | text    | YES  |     | NULL    |       |
| 費目      | text    | YES  |     | NULL    |       |
| メモ      | text    | YES  |     | NULL    |       |
| 入金額    | int(11) | YES  |     | NULL    |       |
| 出金額    | int(11) | YES  |     | NULL    |       |
+-----------+---------+------+-----+---------+-------+
5 rows in set (0.01 sec)


家計簿テーブルにデータ追加
mysql> INSERT INTO 家計簿(日付, 費目, メモ, 入金額, 出金額)
    -> VALUES("2022-02-03", "食費", "コーヒーを購入", 0, 380);


家計簿テーブルのデータを取得
mysql> SELECT * FROM 家計簿;
+------------+--------+-----------------------+-----------+-----------+
| 日付       | 費目   | メモ                  | 入金額    | 出金額    |
+------------+--------+-----------------------+-----------+-----------+
| 2022-02-03 | 食費   | コーヒーを購入        |         0 |       380 |
+------------+--------+-----------------------+-----------+-----------+
1 row in set (0.00 sec)

----データ追加省略----

mysql> SELECT * FROM 家計簿;
+------------+-----------------+-----------------------+-----------+-----------+
| 日付       | 費目            | メモ                  | 入金額    | 出金額    |
+------------+-----------------+-----------------------+-----------+-----------+
| 2022-02-03 | 食費            | コーヒーを購入        |         0 |       380 |
| 2022-02-10 | 給料            | 1月の給料             |   2800000 |         0 |
| 2022-02-11 | 教養娯楽費      | 書籍を購入            |         0 |      2800 |
| 2022-02-14 | 交際費          | 同期会の会費          |         0 |      5000 |
| 2022-02-18 | 水道光熱費      | 1月の電気代           |         0 |      7560 |
| 2022-02-25 | 居住費          | 3月の家賃             |         0 |     85000 |
+------------+-----------------+-----------------------+-----------+-----------+
6 rows in set (0.00 sec)


データの更新
mysql> UPDATE 家計簿
    -> SET 出金額 = 90000
    -> WHERE 日付 = "2022-02-25";


更新データの確認
mysql> SELECT * FROM 家計簿;
+------------+-----------------+-----------------------+-----------+-----------+
| 日付       | 費目            | メモ                  | 入金額    | 出金額    |
+------------+-----------------+-----------------------+-----------+-----------+
| 2022-02-03 | 食費            | コーヒーを購入        |         0 |       380 |
| 2022-02-10 | 給料            | 1月の給料             |   2800000 |         0 |
| 2022-02-11 | 教養娯楽費      | 書籍を購入            |         0 |      2800 |
| 2022-02-14 | 交際費          | 同期会の会費          |         0 |      5000 |
| 2022-02-18 | 水道光熱費      | 1月の電気代           |         0 |      7560 |
| 2022-02-25 | 居住費          | 3月の家賃             |         0 |     90000 |
+------------+-----------------+-----------------------+-----------+-----------+
6 rows in set (0.00 sec)


データの削除
mysql> DELETE FROM 家計簿
    -> WHERE 日付 = "2022-02-25";


家計簿テーブルのデータを確認
mysql> SELECT * FROM 家計簿;
+------------+-----------------+-----------------------+-----------+-----------+
| 日付       | 費目            | メモ                  | 入金額    | 出金額    |
+------------+-----------------+-----------------------+-----------+-----------+
| 2022-02-03 | 食費            | コーヒーを購入        |         0 |       380 |
| 2022-02-10 | 給料            | 1月の給料             |   2800000 |         0 |
| 2022-02-11 | 教養娯楽費      | 書籍を購入            |         0 |      2800 |
| 2022-02-14 | 交際費          | 同期会の会費          |         0 |      5000 |
| 2022-02-18 | 水道光熱費      | 1月の電気代           |         0 |      7560 |
+------------+-----------------+-----------------------+-----------+-----------+
5 rows in set (0.00 sec)


UPDATEとDELETEは一度実行すると元に戻せない
「WHERE」でどの条件を満たすデータかを指定しなければ全てのデータが更新・削除されてしまう

